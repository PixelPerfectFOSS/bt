{"version":3,"file":"bundle.js","sources":["src/stop.js","src/animation.js","src/main.js"],"sourcesContent":["function stop(tl, timeLimit, position) {\n    tl.addLabel(\"_smartloop_stop\", position);\n    tl.call(function(this_tl) {\n        if (this_tl._smartLoop === undefined) {\n            this_tl._smartLoop = {\n                timeLimit: timeLimit,\n                stopLabel: \"_smartloop_stop\",\n                loop: 0,\n                stopAtLoop: Math.floor(timeLimit / this_tl.duration())\n            };\n        }\n        \n        this_tl._smartLoop.loop++;\n        const t = this_tl._smartLoop.loop * this_tl.duration();\n        if (this_tl._smartLoop.loop == this_tl._smartLoop.stopAtLoop) {\n            console.log(`stopped at loop ${this_tl._smartLoop.loop} / ${t}s`);\n            this_tl._smartLoop.loop = 0;\n            this_tl.pause(this_tl._smartLoop.stopLabel);\n        }\n    }, [tl]);\n}\n\nexport default stop;\n","import stop from \"./stop\";\r\n\r\nfunction mainTimeline()\r\n{\r\n    const tl = gsap.timeline({ repeat: -1, paused: true });\r\n    tl.addLabel(\"start\", 0.0);\r\n    \r\n    tl.addLabel(\"slide1\", \"start\");\r\n    tl.fromTo(\"#t1\", 0.5, { autoAlpha: 0 }, { autoAlpha: 1 }, \"slide1\");\r\n    tl.addLabel(\"capture 1\", \"+=0.0\");\r\n    \r\n    tl.addLabel(\"slide2\", \"+=2.0\");\r\n    tl.to(\"#t1\", 0.5, { autoAlpha: 0 }, \"slide2\");\r\n    tl.fromTo(\"#t2\", 0.5, { autoAlpha: 0 }, { autoAlpha: 1 }, \"slide2+=0.5\");\r\n    tl.addLabel(\"capture 2\", \"+=0.0\");\r\n    \r\n    tl.addLabel(\"slide3\", \"+=2.0\");\r\n    tl.to(\"#t2\", 0.5, { autoAlpha: 0 }, \"slide3\");\r\n    tl.fromTo(\"#t3\", 0.5, { autoAlpha: 0 }, { autoAlpha: 1 }, \"slide3+=0.5\");\r\n    tl.addLabel(\"capture 3\", \"+=0.0\");\r\n    \r\n    tl.addLabel(\"slide4\", \"+=2.0\");\r\n    tl.to(\"#t3\", 0.5, { autoAlpha: 0 }, \"slide4\");\r\n    tl.fromTo(\"#t4\", 0.5, { autoAlpha: 0 }, { autoAlpha: 1 }, \"slide4+=0.5\");\r\n    tl.addLabel(\"capture 4\", \"+=0.0\");\r\n    stop(tl, 30.0, \"+=0.0\");\r\n    \r\n    tl.addLabel(\"end\", \"+=3.0\");\r\n    tl.to(\"#t4\", 0.5, { autoAlpha: 0 }, \"end\");\r\n    \r\n    return tl;\r\n}\r\n\r\nlet master;\r\n\r\nfunction start()\r\n{\r\n    console.log(\"start\");\r\n    master = mainTimeline();\r\n    window.animation = {\r\n        master: master\r\n    };\r\n    master.play(0);\r\n}\r\n\r\nexport\r\n{\r\n    start\r\n};\r\n","import \"./main.sass\";\r\nimport * as animation from \"./animation\";\r\n\r\nfunction main()\r\n{\r\n    animation.start();\r\n}\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", main);\r\n"],"names":["animation.start"],"mappings":"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"}