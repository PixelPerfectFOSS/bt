{"version":3,"file":"bundle.js","sources":["src/smartloop.js","src/animation.js","src/main.js"],"sourcesContent":["const timeLimit = 30;\nconst stopTime = 1;\n\nfunction smartloop(tl, timeLimit, stopTime)\n{\n    tl._smartLoop = {\n        timeLimit: timeLimit,\n        stopTime: stopTime,\n        loop: 0,\n        stopAtLoop: Math.floor(timeLimit / (tl.duration / 1000))\n    };\n    tl.loopComplete = function() {\n        tl._smartLoop.loop++;\n        const t = tl._smartLoop.loop * tl.duration / 1000;\n        if (tl._smartLoop.loop == tl._smartLoop.stopAtLoop) {\n            console.log(`stopped at loop ${tl._smartLoop.loop} / ${t}s`);\n            tl.seek(tl._smartLoop.stopTime * 1000);\n            tl._smartLoop.loop = 0;\n            tl.pause();\n        }\n    };\n}\n\nexport default smartloop;\n","import smartloop from \"./smartloop\";\r\n\r\nfunction mainTimeline()\r\n{\r\n    const tl = anime.timeline({\r\n        easing: \"easeInOutQuad\",\r\n        loop: true,\r\n        autoplay: false\r\n    });\r\n    \r\n    tl.add({ targets: \"#rect\", duration: 1000, translateX: \"450%\", transformOrigin: [\"center center 0\", \"center center 0\"] });\r\n    tl.add({ targets: \"#rect\", translateY: \"900%\", backgroundColor: \"#0000ff\" });\r\n    tl.add({ targets: \"#rect\", duration: 500, transformOrigin: [\"right bottom 0\", \"right bottom 0\"],\r\n        scaleX: 10.0,\r\n        scaleY: 10.0\r\n    });\r\n    \r\n    return tl;\r\n}\r\n\r\nconst timeLimit = 30.0;\r\nconst stopTime = 1.0;\r\n\r\nlet master;\r\n\r\nfunction start()\r\n{\r\n    console.log(\"start\");\r\n    master = mainTimeline();\r\n    smartloop(master, timeLimit, stopTime);\r\n    master.play();\r\n}\r\n\r\nexport\r\n{\r\n    start\r\n};\r\n","import \"./main.sass\";\r\nimport * as animation from \"./animation\";\r\n\r\nfunction main()\r\n{\r\n    animation.start();\r\n}\r\n\r\nwindow.onload = main;\r\n"],"names":["animation.start"],"mappings":";;;;;IAGA,SAAS,SAAS,CAAC,EAAE,EAAE,SAAS,EAAE,QAAQ;IAC1C;IACA,IAAI,EAAE,CAAC,UAAU,GAAG;IACpB,QAAQ,SAAS,EAAE,SAAS;IAC5B,QAAQ,QAAQ,EAAE,QAAQ;IAC1B,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;IAChE,KAAK,CAAC;IACN,IAAI,EAAE,CAAC,YAAY,GAAG,WAAW;IACjC,QAAQ,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IAC7B,QAAQ,MAAM,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC1D,QAAQ,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,CAAC,UAAU,CAAC,UAAU,EAAE;IAC5D,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,YAAY,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACnD,YAAY,EAAE,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;IACnC,YAAY,EAAE,CAAC,KAAK,EAAE,CAAC;IACvB,SAAS;IACT,KAAK,CAAC;IACN;;ICnBA,SAAS,YAAY;IACrB;IACA,IAAI,MAAM,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC9B,QAAQ,MAAM,EAAE,eAAe;IAC/B,QAAQ,IAAI,EAAE,IAAI;IAClB,QAAQ,QAAQ,EAAE,KAAK;IACvB,KAAK,CAAC,CAAC;IACP;IACA,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,EAAE,CAAC,CAAC;IAC9H,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,CAAC,CAAC;IACjF,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,eAAe,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;IACnG,QAAQ,MAAM,EAAE,IAAI;IACpB,QAAQ,MAAM,EAAE,IAAI;IACpB,KAAK,CAAC,CAAC;IACP;IACA,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;AACD;IACA,MAAM,SAAS,GAAG,IAAI,CAAC;IACvB,MAAM,QAAQ,GAAG,GAAG,CAAC;AACrB;IACA,IAAI,MAAM,CAAC;AACX;IACA,SAAS,KAAK;IACd;IACA,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzB,IAAI,MAAM,GAAG,YAAY,EAAE,CAAC;IAC5B,IAAI,SAAS,CAAC,MAAM,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC3C,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;IAClB;;IC5BA,SAAS,IAAI;IACb;IACA,IAAIA,KAAe,EAAE,CAAC;IACtB,CAAC;AACD;IACA,MAAM,CAAC,MAAM,GAAG,IAAI;;;;"}